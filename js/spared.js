"use strict";var ctx=new AudioContext,currentlyPlaying=[],buffer=null,source=null,playing=null,making=null,current=null,audLoc="gotmilk.mp3";function load(){var n=new XMLHttpRequest;n.open("GET",window.location.origin+"/assets/"+audLoc),n.responseType="arraybuffer",n.onload=function(){ctx.decodeAudioData(n.response,function(n){buffer=n})},n.send()}function grabSource(){var n=ctx.createBufferSource();return n.buffer=buffer,1==random(1,10)&&(n.loop=!0),n.connect(ctx.destination),n}function removeFromPlaying(n){currentlyPlaying.splice(currentlyPlaying.indexOf(n),1)}function stopAll(){currentlyPlaying.forEach(n=>{n.stop(),removeFromPlaying(n)})}function swapBuffers(){playing=making,currentlyPlaying.push(playing),(making=grabSource()).onended=function(){removeFromPlaying(this)}}function play(){swapBuffers(),playing.start(),null==currentlyPlaying[0]&&currentlyPlaying.splice(0,1)}Time.dateIs(3,14)&&(audLoc="train.mp3"),12==Time.CURRENT_MONTH?audLoc="snwo.mp3":3==Time.CURRENT_MONTH&&(audLoc="playtime.wav"),load();
